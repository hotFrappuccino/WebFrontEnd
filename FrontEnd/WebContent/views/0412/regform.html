<!DOCTYPE html>
<html>
<head>
<meta charset="UTF-8">
<title>유효성 검사</title>
</head>
<body>
	<form action="register.jsp" method="post" id="myform">
		<p> 이름 <input type="text" id="name"/>
		<span id="namespan"></span></p>
		
		<p>주민등록번호<input type="text" id="jumin"/>
		<span id="juminspan"></span></p>
		<input type="submit" value="회원가입"/>
		</form>
</body>
<script>
	try{
		//예외가 발생하면 catch 블럭으로 넘어간 후 이후 코드를 실행
		var ar = new Array(-1)
	}catch(e){
		alert(e.message)	// 예외 메시지를 출
	}
	alert("메시지 출력")

	
	var f = document.getElementById("myform")
	var n = document.getElementById("name")
	var ns = document.getElementById("namespan")
	var j = document.getElementById("jumin")
	var js = document.getElementById("juminspan")
	
	f.addEventListener("submit",function(e){
		//이벤트 객체 만들기
		var event = e || window.event
		//이름은 한글 2자 이상으로 입력
		var namereg = /[가-힣]{2,}/
		if(namereg.test(n.value)){
			ns.innerHTML ="사용 가능한 이름입니다."
			
		}else{
			ns.innerHTML = "이름은 한글 2자 이상이어야 합니다."
			event.preventDefault()
		}
		//주민번호 숫자 6개 - 숫자 7개
		var juminreg = /\d{6}-[0-9]{7}/	//숫자는 [0-9]써도 되고 \d 써도 됨
		if(juminreg.test(j.value)){
			js.innerHTML = "사용 가능한 주민등록번호입니다."
		}else{
			js.innerHTML = "주민등록번호 형식이 아닙니다."
			event.preventDefault()
		}
	})

</script>
</html>